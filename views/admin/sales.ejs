<%- include('../partials/_headerAdmin') %>

    <h1>Laporan Penjualan</h1>

    <div class="dashboard-cards">
        <div class="card card-total">
            <h3>Total Pendapatan</h3>
            <div class="number">Rp <%= new Intl.NumberFormat('id-ID').format(grand_total) %></div>
        </div>
    </div>

    <h2>Rincian Penjualan per Produk</h2>
    <div style="overflow-x: auto;">
        <table>
            <thead>
                <tr>
                    <th style="width: 5%;">No</th>
                    <th>Produk / Item</th>
                    <th style="text-align: center;">Jumlah Terjual</th>
                    <th>Total Harga</th>
                </tr>
            </thead>
            <tbody>
                <% if (details.length > 0) { %>
                    <% details.forEach((item, index) => { %>
                    <tr>
                        <td><%= index + 1 %></td>

                        <td style="font-weight: 600; color: #2c3e50;">
                            <%= item.item_name %>
                        </td>

                        <td style="text-align: center;">
                            <span style="background: #e9ecef; padding: 4px 10px; border-radius: 10px; font-weight: bold;">
                                <%= item.total_qty %>
                            </span>
                        </td>

                        <td style="font-weight: 600; color: #28a745;">
                            Rp <%= new Intl.NumberFormat('id-ID').format(item.total_revenue) %>
                        </td>
                    </tr>
                    <% }) %>
                <% } else { %>
                    <tr>
                        <td colspan="4" style="text-align: center;">Belum ada data penjualan.</td>
                    </tr>
                <% } %>
            </tbody>
        </table>
    </div>

<%- include('../partials/_footerAdmin') %>
