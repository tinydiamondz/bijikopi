
<nav>
    <div class="nav-left">
        <span class="points-display">
            ‚≠ê <%= (typeof point !== 'undefined' && point) ? point : '-' %> pts
        </span>

        <%
        const now = new Date();
        const options = {
            weekday: 'long',
            year: 'numeric',
            month: 'long',
            day: 'numeric',
            timeZone: 'Asia/Jakarta'
        };
        const hariIni = now.toLocaleDateString('id-ID', options) + " WIB";
        %>

        <span class="date-display">
            <%= hariIni %>
        </span>
    </div>

    <div class="nav-center">
        <% const isActive = (p) => (typeof page !== 'undefined' && page === p ? 'active' : '') %>

        <a href="/" class="<%= isActive('main') %>">MAIN</a>
        <a href="/foods" class="<%= isActive('foods') %>">FOODS</a>
        <a href="/drinks" class="<%= isActive('drinks') %>">DRINKS</a>
        <a href="/profile" class="<%= isActive('profile') %>">PROFILE</a>
        <a href="/cart" class="<%= isActive('cart') %>">CART</a>
        <a href="/transactions" class="<%= isActive('history') %>">HISTORY</a>

        <% if (typeof role !== 'undefined' && role === "admin") { %>
            <a href="/admin/foods">ADMIN ONLY</a>
        <% } %>

        <a href="/forum" class="<%= isActive('forum') %>">FORUM</a>
    </div>

    <div class="nav-right">
        <% 
            let displayName = '-';
            if (user) {
                displayName = (role === "admin" ? user.fullname_admin : user.fullname_customer) || '-';
            }
        %>

        <% if (user) { %>
            <span class="logged-as">
                LOGGED AS <%= displayName %>
            </span>
            <a href="/logout" class="btn-logout">LOGOUT</a>
        <% } else { %>
            <a href="/login" class="btn-logout">LOGIN</a>
        <% } %>
    </div>
</nav>

